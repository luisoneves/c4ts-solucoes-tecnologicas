---
import { getGlobalSettings, getStrapiMediaUrl } from '../lib/strapi';

const settings = await getGlobalSettings();

const siteName = settings?.siteName || "Marca Padrão";
// CORREÇÃO: passamos `settings.logo` diretamente
const logoUrl = settings?.logo ? getStrapiMediaUrl(settings.logo) : null;
const navLinks = settings?.navbarLinks || [
    { id: 1, label: 'Início', url: '#', isExternal: false },
    { id: 2, label: 'Serviços', url: '#', isExternal: false },
];
---

<nav class="bg-white shadow-md py-4 sticky top-0 z-50">
  <div class="container mx-auto flex justify-between items-center px-4">
    <a href="/" class="flex items-center gap-3">
      {logoUrl ? (
        <img src={logoUrl} alt={`Logo de ${siteName}`} class="h-10 w-auto" />
      ) : (
        <h1 class="text-2xl font-bold text-blue-600">{siteName}</h1>
      )}
    </a>

    <ul class="hidden md:flex gap-6 text-gray-700 font-medium">
      {navLinks.map(link => (
        <li>
          <a
            href={link.url}
            target={link.isExternal ? "_blank" : "_self"}
            rel={link.isExternal ? "noopener noreferrer" : undefined}
            class="hover:text-blue-600 transition-colors"
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>

    <div class="md:hidden">
        <!-- Ícone de Hamburguer -->
    </div>
  </div>
</nav>